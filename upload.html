<!DOCTYPE html>
<html>
<head>
  <title>Upload Video</title>
</head>
<body>

<h2>Upload Video</h2>

<input type="file" id="videoFile"><br><br>
<button onclick="uploadVideo()">Upload</button>

<p id="status"></p>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "zkg-live.firebaseapp.com",
  projectId: "zkg-live",
  storageBucket: "zkg-live.appspot.com",
  appId: "XXXX"
};

firebase.initializeApp(firebaseConfig);

const db = firebase.firestore();
const storage = firebase.storage();

function uploadVideo() {
  const file = document.getElementById("videoFile").files[0];
  if (!file) return alert("Select a video");

  const ref = storage.ref("videos/" + Date.now() + file.name);

  ref.put(file).then(() => {
    ref.getDownloadURL().then(url => {
      db.collection("videos").add({
        url: url,
        time: firebase.firestore.FieldValue.serverTimestamp()
      });
      document.getElementById("status").innerText = "Upload successful!";
    });
  });
}
</script>

</body>
</html>
