<script>
function uploadVideo() {
  const file = document.getElementById("videoFile").files[0];
  if (!file) {
    alert("Video select karo");
    return;
  }

  document.getElementById("status").innerText = "Uploading...";

  const ref = firebase.storage().ref("videos/" + Date.now() + "_" + file.name);

  ref.put(file)
    .then(() => ref.getDownloadURL())
    .then(url => {
      return firebase.firestore().collection("videos").add({
        url: url,
        time: firebase.firestore.FieldValue.serverTimestamp()
      });
    })
    .then(() => {
      document.getElementById("status").innerText = "✅ Video Uploaded Successfully!";
    })
    .catch(error => {
      document.getElementById("status").innerText = "❌ ERROR: " + error.message;
      console.error(error);
    });
}
</script>
