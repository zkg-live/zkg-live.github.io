<!DOCTYPE html>
<html>
<head>
  <title>Watch Video</title>
</head>
<body>

<h2 id="title"></h2>
<p id="description"></p>

<video id="player" width="400" controls></video>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyCKqRPWM-3C5N-mPAN1lMf_m9CedLIfVSQ",
  authDomain: "zkg-live.firebaseapp.com",
  projectId: "zkg-live"
});

const db = firebase.firestore();
const id = new URLSearchParams(window.location.search).get("id");

db.collection("videos").doc(id).get().then(doc => {
  const v = doc.data();
  document.getElementById("title").innerText = v.title;
  document.getElementById("description").innerText = v.description;
  document.getElementById("player").src = v.url;
});
</script>

</body>
</html>
