<!DOCTYPE html>
<html>
<head>
  <title>ZKG Live</title>
</head>

<body>

<h2>All Videos</h2>
<div id="videos"></div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "zkg-live.firebaseapp.com",
  projectId: "zkg-live",
  storageBucket: "zkg-live.appspot.com",
  appId: "XXXX"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

db.collection("videos").orderBy("time","desc").onSnapshot(snapshot => {
  document.getElementById("videos").innerHTML = "";

  snapshot.forEach(doc => {
    const v = doc.data();

    document.getElementById("videos").innerHTML += `
      <a href="watch.html?id=${doc.id}">
        <video src="${v.url}" width="300" controls></video>
      </a>
      <br><br>
    `;
  });
});
</script>

</body>
</html>
