<!DOCTYPE html>
<html>
<head>
  <title>ZKG Live</title>
</head>

<body>

<h2>All Videos</h2>
<div id="videos"></div>

<!-- Firebase core -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>

<!-- Firebase services -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "zkg-live.firebaseapp.com",
  projectId: "zkg-live",
  storageBucket: "zkg-live.appspot.com",
  appId: "XXXX"
};

firebase.initializeApp(firebaseConfig);

// ðŸ” LOGIN CHECK (YAHI ADD HUA)
firebase.auth().onAuthStateChanged(user => {
  if (!user) {
    window.location.href = "login.html";
  }
});

const db = firebase.firestore();

// ðŸŽ¥ VIDEOS LOAD
db.collection("videos").orderBy("time","desc").onSnapshot(snapshot => {
  document.getElementById("videos").innerHTML = "";
  snapshot.forEach(doc => {
    const v = doc.data();
    document.getElementById("videos").innerHTML += `
      <video src="${v.url}" controls width="300"></video><br><br>
    `;
  });
});
</script>

</body>
</html>
